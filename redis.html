<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;1.&nbsp;Redis Engine</title><link rel="stylesheet" type="text/css" href="stylesheet.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter" title="Chapter&nbsp;1.&nbsp;Redis Engine"><div class="titlepage"><div><div><h2 class="title"><a name="redis"></a>Chapter&nbsp;1.&nbsp;Redis Engine</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#d1038e4">Redis</a></span></dt><dd><dl><dt><span class="section"><a href="#d1038e65">Maven Setup</a></span></dt><dt><span class="section"><a href="#d1038e81">Dataset Format</a></span></dt><dt><span class="section"><a href="#d1038e153">Getting Started</a></span></dt></dl></dd></dl></div><div class="section" title="Redis"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d1038e4"></a>Redis</h2></div></div></div><p>
			<span class="application">Redis</span>
			is an open source, advanced key-value store. It is often referred to
			as a data structure server since keys can contain strings, hashes,
			lists, sets and sorted sets.
		</p><p>
			<span class="bold"><strong>NoSQLUnit</strong></span>
			supports
			<span class="emphasis"><em>Redis</em></span>
			by using next classes:
		</p><p>
			</p><table border="1" id="d1038e22"><caption>Table&nbsp;1.1.&nbsp;Lifecycle Management Rules</caption><tr>
					<td>Embedded</td>
					<td>
						<code class="classname">com.lordofthejars.nosqlunit.redis.EmbeddedRedis
						</code>
					</td>
				</tr><tr>
					<td>Managed</td>

					<td>
						<code class="classname">com.lordofthejars.nosqlunit.redis.ManagedRedis
						</code>
					</td>
				</tr></table><p>
		</p><p>
			</p><table border="1" id="d1038e50"><caption>Table&nbsp;1.2.&nbsp;Manager Rule</caption><tr>
					<td>NoSQLUnit Management</td>

					<td>
						<code class="classname">com.lordofthejars.nosqlunit.redis.RedisRule
						</code>
					</td>
				</tr></table><p>
		</p><div class="section" title="Maven Setup"><div class="titlepage"><div><div><h3 class="title"><a name="d1038e65"></a>Maven Setup</h3></div></div></div><p>
				To use
				<span class="bold"><strong>NoSQLUnit</strong></span>
				with
				<span class="application">Redis</span>
				you only need to add next
				dependency:
			</p><div class="example"><a name="conf.nosqlunit_redis_dep"></a><p class="title"><b>Example&nbsp;1.1.&nbsp;NoSqlUnit Maven Repository</b></p><div class="example-contents"><pre class="programlisting"><strong class="hl-tag" style="color: #000096">&lt;dependency&gt;</strong>
	<strong class="hl-tag" style="color: #000096">&lt;groupId&gt;</strong>com.lordofthejars<strong class="hl-tag" style="color: #000096">&lt;/groupId&gt;</strong>
	<strong class="hl-tag" style="color: #000096">&lt;artifactId&gt;</strong>nosqlunit-redis<strong class="hl-tag" style="color: #000096">&lt;/artifactId&gt;</strong>
	<strong class="hl-tag" style="color: #000096">&lt;version&gt;</strong>${version.nosqlunit}<strong class="hl-tag" style="color: #000096">&lt;/version&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;/dependency&gt;</strong></pre></div></div><br class="example-break"></div><div class="section" title="Dataset Format"><div class="titlepage"><div><div><h3 class="title"><a name="d1038e81"></a>Dataset Format</h3></div></div></div><p>
				Default dataset file format in
				<span class="emphasis"><em>Redis</em></span>
				module is json.
			</p><p>
				Datasets must have next
				<a class="link" href="#ex.redis_dataset" title="Example&nbsp;1.2.&nbsp;Example of Redis Dataset">
					format
				</a>
				:
			</p><div class="example"><a name="ex.redis_dataset"></a><p class="title"><b>Example&nbsp;1.2.&nbsp;Example of Redis Dataset</b></p><div class="example-contents"><pre class="programlisting">{
"data":[
			{"simple": [
				{
					"key":"key1", 
					"value":"value1"
				}
				]
			},
      		{"list": [{
              			"key":"key3",
              			"values":[
                  			{"value":"value3"},
                  			{"value":"value4"}
              			]
					  }]
      		},
      		
     		{"sortset": [{
                     "key":"key4",
                     "values":[
                           {"score":2, "value":"value5" },{"score":3, "value":1 }, {"score":1, "value":"value6" }]
                 }]
      		}, 
      		{"hash": [
      					{
      						"key":"user",
      						"values":[
      							{"field":"name", "value":"alex"},
      							{"field":"password", "value":"alex"}
      						]
      					}
      				]
      		},
      		{"set":[{
              			"key":"key3",
              			"values":[
                  			{"value":"value3"},
                  			{"value":"value4"}
              			]
					  }]
      		}
]
}</pre></div></div><br class="example-break"><p>
				Root element must be called
				<span class="emphasis"><em>data</em></span>
				, and then depending on kind of structured data we need to store,
				one or more of next elements should appear. Note that key field is
				used to set the key of the element, and value field is used to set a
				value.
			</p><p>
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
							<span class="emphasis"><em>simple</em></span>
							:
							In case we want to store simple key/value elements. This
							element
							will contain an array of key/value entries.
						</p></li><li class="listitem"><p>
							<span class="emphasis"><em>list</em></span>
							:
							In case we want to store a key with a list of values. This
							element
							contain a
							<span class="emphasis"><em>key</em></span>
							field
							for key name and
							<span class="emphasis"><em>values</em></span>
							field
							with an array of values.
						</p></li><li class="listitem"><p>
							<span class="emphasis"><em>set</em></span>
							In case we want to store a key within a set (no duplicates
							allowed). Structure is the same as list element.
						</p></li><li class="listitem"><p>
							<span class="emphasis"><em>sortset</em></span>
							:
							In case we want to store a key within a sorted set. This element
							contain the key, and an array of values, which each one, apart
							from value field, also contain
							<span class="emphasis"><em>score</em></span>
							field of type Number, to set the order into sorted set.
						</p></li><li class="listitem"><p>
							<span class="emphasis"><em>hash</em></span>
							:
							In case we want to store a key within a map of field/value. In
							this case
							<span class="emphasis"><em>field</em></span>
							element set the field name, and
							<span class="emphasis"><em>value</em></span>
							set the
							value of that field.
						</p></li></ul></div><p>
			</p></div><div class="section" title="Getting Started"><div class="titlepage"><div><div><h3 class="title"><a name="d1038e153"></a>Getting Started</h3></div></div></div><div class="section" title="Lifecycle Management Strategy"><div class="titlepage"><div><div><h4 class="title"><a name="d1038e156"></a>Lifecycle Management Strategy</h4></div></div></div><p>
					First step is defining which lifecycle management strategy is
					required for your tests. Depending on kind of test you are
					implementing (unit test, integration test, deployment test, ...)
					you will require an embedded approach, managed approach or remote
					approach.
				</p><div class="section" title="Embedded Lifecycle"><div class="titlepage"><div><div><h5 class="title"><a name="d1038e161"></a>Embedded Lifecycle</h5></div></div></div><p>
						To configure
						<span class="bold"><strong>embedded</strong></span>
						approach you should only instantiate next
						<a class="link" href="#program.redis_embedded_conf" title="Example&nbsp;1.3.&nbsp;Embedded Redis">rule</a>
						:
					</p><div class="example"><a name="program.redis_embedded_conf"></a><p class="title"><b>Example&nbsp;1.3.&nbsp;Embedded Redis</b></p><div class="example-contents"><pre class="programlisting"><em><span class="hl-annotation" style="color: gray">@ClassRule</span></em>
	<strong class="hl-keyword">public</strong> <strong class="hl-keyword">static</strong> EmbeddedRedis embeddedRedis = newEmbeddedRedisRule().build();</pre></div></div><br class="example-break"><p>
						By default managed
						<span class="emphasis"><em>Redis</em></span>
						rule uses next
						default values but can be configured
						programmatically:
					</p><table id="d1038e182"><caption>Table&nbsp;1.3.&nbsp;Default Embedded Values</caption><tr>
							<td>
								Target path
							</td>
							<td>
								This is the directory where
								<span class="emphasis"><em>Redis</em></span>
								embedded instance is started and is
								<code class="constant">target/redis-test-data/impermanent-db</code>
								.
							</td>
						</tr></table><p>Note that target path is only used as a configuration
						parameter to allow multiple instances of embedded in-memory Redis engine.
					</p><p>For more information about embedded in-memory Redis take a tour to section: <a class="link" href="#">Embedded In-Memory Redis</a></p></div><div class="section" title="Managed Lifecycle"><div class="titlepage"><div><div><h5 class="title"><a name="d1038e205"></a>Managed Lifecycle</h5></div></div></div><p>
						To configure
						<span class="bold"><strong>managed</strong></span>
						approach you should only instantiate next
						<a class="link" href="#program.redis_managed_conf" title="Example&nbsp;1.4.&nbsp;Managed Redis">rule</a>
						:
					</p><div class="example"><a name="program.redis_managed_conf"></a><p class="title"><b>Example&nbsp;1.4.&nbsp;Managed Redis</b></p><div class="example-contents"><pre class="programlisting"><em><span class="hl-annotation" style="color: gray">@ClassRule</span></em>
<strong class="hl-keyword">public</strong> <strong class="hl-keyword">static</strong> ManagedRedis managedRedis = newManagedRedisRule().redisPath(<strong class="hl-string"><em style="color:red">"/opt/redis-2.4.16"</em></strong>).build();</pre></div></div><br class="example-break"><p>
						By default managed
						<span class="emphasis"><em>Redis</em></span>
						rule uses next
						default values but can be configured
						programmatically:
					</p><p>
						</p><table id="d1038e228"><caption>Table&nbsp;1.4.&nbsp;Default Managed Values</caption><tr>
								<td>
									Target path
								</td>
								<td>
									This is the directory where
									<span class="emphasis"><em>Redis</em></span>
									server is started and is
									<code class="constant">target/redis-temp</code>
									.
								</td>
							</tr><tr>
								<td>
									RedisPath
								</td>
								<td>
									<span class="emphasis"><em>Cassandra</em></span>
									installation directory which by default is
									retrieved from
									<code class="varname">REDIS_HOME</code>
									system environment
									variable.
								</td>
							</tr><tr>
								<td>
									Port
								</td>
								<td>
									By default port used is 6379. If port is changed in
									<span class="emphasis"><em>Redis</em></span>
									configuration file, this port should be configured too here.
								</td>
							</tr><tr>
								<td>
									Configuration File
								</td>
								<td>
									By default
									<span class="emphasis"><em>Redis</em></span>
									can work with no configuration file, it uses default values,
									but if we need to start
									<span class="emphasis"><em>Redis</em></span>
									with an specific configuration file located in any directory
									file path should be set.
								</td>
							</tr></table><p>
					</p></div><div class="section" title="Remote Lifecycle"><div class="titlepage"><div><div><h5 class="title"><a name="d1038e285"></a>Remote Lifecycle</h5></div></div></div><p>
						Configuring
						<span class="bold"><strong>remote</strong></span>
						approach
						does not require any special rule because you (or System
						like
						<span class="application">Maven</span>
						) is the responsible of starting and
						stopping the server. This mode
						is used in deployment tests where you
						are testing your application
						on real environment.
					</p></div></div><div class="section" title="Configuring Redis Connection"><div class="titlepage"><div><div><h4 class="title"><a name="d1038e296"></a>Configuring Redis Connection</h4></div></div></div><p>
					Next step is configuring
					<span class="bold"><strong>Redis</strong></span>
					rule in charge of maintaining
					<span class="emphasis"><em>Redis</em></span>
					store into known state by inserting and deleting defined
					datasets.
					You must register
					<code class="classname">RedisRule</code>
					<span class="emphasis"><em>JUnit</em></span>
					rule class, which
					requires a configuration parameter with
					information like host,
					port, or cluster name.
				</p><p>To make developer's life easier and code more readable, a
					fluent
					interface can be used to create these configuration objects.
					Three
					different kind of configuration builders exist.
				</p><div class="section" title="Embedded Connection"><div class="titlepage"><div><div><h5 class="title"><a name="d1038e315"></a>Embedded Connection</h5></div></div></div><p>
						The first one is for configuring an embedded connection to managed
						<span class="emphasis"><em>Redis</em></span>
						.
					</p><div class="example"><a name="program.embedded_connection_redis_parameters"></a><p class="title"><b>Example&nbsp;1.5.&nbsp;Redis with embedded configuration</b></p><div class="example-contents"><pre class="programlisting"><strong class="hl-keyword">import</strong> <strong class="hl-keyword">static</strong> com.lordofthejars.nosqlunit.redis.RedisRule.RedisRuleBuilder.newRedisRule;
						
<em><span class="hl-annotation" style="color: gray">@Rule</span></em>
<strong class="hl-keyword">public</strong> RedisRule redisRule = newRedisRule().defaultEmbeddedRedis();
						</pre></div></div><br class="example-break"></div><div class="section" title="Managed Connection"><div class="titlepage"><div><div><h5 class="title"><a name="d1038e328"></a>Managed Connection</h5></div></div></div><p>
						Configuring a connection to managed
						<span class="emphasis"><em>Redis</em></span>
						.
					</p><div class="example"><a name="program.managed_connection_redis_parameters"></a><p class="title"><b>Example&nbsp;1.6.&nbsp;Redis with managed configuration</b></p><div class="example-contents"><pre class="programlisting"><strong class="hl-keyword">import</strong> <strong class="hl-keyword">static</strong> com.lordofthejars.nosqlunit.redis.ManagedRedisConfigurationBuilder.newManagedRedisConfiguration;
						
<em><span class="hl-annotation" style="color: gray">@Rule</span></em>
<strong class="hl-keyword">public</strong> RedisRule redisRule = <strong class="hl-keyword">new</strong> RedisRule(newManagedRedisConfiguration().build());
						</pre></div></div><br class="example-break"><p>
						Host and port parameters are already configured with default
						parameters of managed lifecycle. If port is changed, this class
						provides a method to set it.
					</p></div><div class="section" title="Remote Connection"><div class="titlepage"><div><div><h5 class="title"><a name="d1038e343"></a>Remote Connection</h5></div></div></div><p>
						Configuring a connection to remote
						<span class="emphasis"><em>Redis</em></span>
						.
					</p><div class="example"><a name="program.remote_connection_redis_parameters"></a><p class="title"><b>Example&nbsp;1.7.&nbsp;Redis with remote configuration</b></p><div class="example-contents"><pre class="programlisting"><strong class="hl-keyword">import</strong> <strong class="hl-keyword">static</strong> com.lordofthejars.nosqlunit.redis.RemoteRedisConfigurationBuilder.newRemoteRedisConfiguration;

<em><span class="hl-annotation" style="color: gray">@Rule</span></em>
<strong class="hl-keyword">public</strong> RedisRule redisRule = <strong class="hl-keyword">new</strong> RedisRule(newRemoteRedisConfiguration().host(<strong class="hl-string"><em style="color:red">"192.168.1.1"</em></strong>).build());</pre></div></div><br class="example-break"><p>
						Port parameter is already configured with default parameter
						of managed lifecycle. If port is changed, this class provides a
						method to set it. Note that host parameter must be specified in
						this case.
					</p></div><div class="section" title="Shard Connection"><div class="titlepage"><div><div><h5 class="title"><a name="d1038e358"></a>Shard Connection</h5></div></div></div><p>Redis connection can also be configured as shard using
						ShardedJedis capabilities.
					</p><div class="example"><a name="program.shard_connection_redis_parameters"></a><p class="title"><b>Example&nbsp;1.8.&nbsp;Redis with remote configuration</b></p><div class="example-contents"><pre class="programlisting"><strong class="hl-keyword">import</strong> <strong class="hl-keyword">static</strong> com.lordofthejars.nosqlunit.redis.RemoteRedisConfigurationBuilder.newRemoteRedisConfiguration;

<em><span class="hl-annotation" style="color: gray">@Rule</span></em>
<strong class="hl-keyword">public</strong> RedisRule redisRule = <strong class="hl-keyword">new</strong> RedisRule(newShardedRedisConfiguration()
				.shard(host(<strong class="hl-string"><em style="color:red">"127.0.0.1"</em></strong>), port(ManagedRedis.DEFAULT_PORT))
					.password(<strong class="hl-string"><em style="color:red">"a"</em></strong>)
					.timeout(<span class="hl-number">1000</span>)
					.weight(<span class="hl-number">1000</span>)
				.shard(host(<strong class="hl-string"><em style="color:red">"127.0.0.1"</em></strong>), port(ManagedRedis.DEFAULT_PORT + <span class="hl-number">1</span>))
					.password(<strong class="hl-string"><em style="color:red">"b"</em></strong>)
					.timeout(<span class="hl-number">3000</span>)
					.weight(<span class="hl-number">3000</span>)
				.build());</pre></div></div><br class="example-break"><p>
						Note that only
						<span style="color: red">&lt;methodparam&gt;host&lt;/methodparam&gt;</span>
						and
						<span style="color: red">&lt;methodparam&gt;port&lt;/methodparam&gt;</span>
						is mandatory, the other ones uses default values.
					</p><p>
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
									<span class="emphasis"><em>password</em></span>
									:
									In case repository is protected with password this attribute
									is used as password. Default values is null.
								</p></li><li class="listitem"><p>
									<span class="emphasis"><em>timeout</em></span>
									:
									Timeout for shard. By default timeout is set to 2 seconds.
								</p></li><li class="listitem"><p>
									<span class="emphasis"><em>weight</em></span>
									:
									The weight of that shard over the other ones. By default is 1.
								</p></li></ul></div><p>
					</p></div></div><div class="section" title="Verifying Data"><div class="titlepage"><div><div><h4 class="title"><a name="d1038e398"></a>Verifying Data</h4></div></div></div><p>
					<code class="classname">@ShouldMatchDataSet</code>
					is also supported for
					<span class="emphasis"><em>Redis</em></span>
					engine.
				</p></div><div class="section" title="Full Example"><div class="titlepage"><div><div><h4 class="title"><a name="d1038e409"></a>Full Example</h4></div></div></div><p>
					To show how to use
					<span class="bold"><strong>NoSQLUnit</strong></span>
					with
					<span class="emphasis"><em>Redis</em></span>
					,
					we are going to create a
					very simple application.
				</p><p>
					<a class="link" href="#program.book_redis_manager" title="Example&nbsp;1.9.&nbsp;Book manager with Redis">BookManager</a>
					is the business class responsible of inserting new books and
					finding books by their title.
				</p><div class="example"><a name="program.book_redis_manager"></a><p class="title"><b>Example&nbsp;1.9.&nbsp;Book manager with Redis</b></p><div class="example-contents"><pre class="programlisting"><strong class="hl-keyword">public</strong> <strong class="hl-keyword">class</strong> BookManager {
	
	<strong class="hl-keyword">private</strong> <strong class="hl-keyword">static</strong> <strong class="hl-keyword">final</strong> String TITLE_FIELD_NAME = <strong class="hl-string"><em style="color:red">"title"</em></strong>;
	<strong class="hl-keyword">private</strong> <strong class="hl-keyword">static</strong> <strong class="hl-keyword">final</strong> String NUMBER_OF_PAGES = <strong class="hl-string"><em style="color:red">"numberOfPages"</em></strong>;
	
	<strong class="hl-keyword">private</strong> Jedis jedis;
	
	<strong class="hl-keyword">public</strong> BookManager(Jedis jedis) {
		<strong class="hl-keyword">this</strong>.jedis = jedis;
	}
	
	<strong class="hl-keyword">public</strong> <strong class="hl-keyword">void</strong> insertBook(Book book) {
		
		Map&lt;String, String&gt; fields = <strong class="hl-keyword">new</strong> HashMap&lt;String, String&gt;();
		
		fields.put(TITLE_FIELD_NAME, book.getTitle());
		fields.put(NUMBER_OF_PAGES, Integer.toString(book.getNumberOfPages()));
		
		jedis.hmset(book.getTitle(), fields);
	}

	<strong class="hl-keyword">public</strong> Book findBookByTitle(String title) {
		
		Map&lt;String, String&gt; fields = jedis.hgetAll(title);
		<strong class="hl-keyword">return</strong> <strong class="hl-keyword">new</strong> Book(fields.get(TITLE_FIELD_NAME), Integer.parseInt(fields.get(NUMBER_OF_PAGES)));
		
	}
	
}</pre></div></div><br class="example-break"><p>
					And now one integration test is written:
				</p><div class="example"><a name="program.book_redis_integration"></a><p class="title"><b>Example&nbsp;1.10.&nbsp;Redis with managed configuration</b></p><div class="example-contents"><pre class="programlisting"><strong class="hl-keyword">import</strong> <strong class="hl-keyword">static</strong> com.lordofthejars.nosqlunit.redis.RedisRule.RedisRuleBuilder.newRedisRule;
<strong class="hl-keyword">import</strong> <strong class="hl-keyword">static</strong> com.lordofthejars.nosqlunit.redis.ManagedRedis.ManagedRedisRuleBuilder.newManagedRedisRule;

<strong class="hl-keyword">import</strong> <strong class="hl-keyword">static</strong> org.junit.Assert.assertThat;
<strong class="hl-keyword">import</strong> <strong class="hl-keyword">static</strong> org.hamcrest.CoreMatchers.is;

<strong class="hl-keyword">import</strong> org.junit.ClassRule;
<strong class="hl-keyword">import</strong> org.junit.Rule;
<strong class="hl-keyword">import</strong> org.junit.Test;

<strong class="hl-keyword">import</strong> redis.clients.jedis.Jedis;

<strong class="hl-keyword">import</strong> com.lordofthejars.nosqlunit.annotation.UsingDataSet;
<strong class="hl-keyword">import</strong> com.lordofthejars.nosqlunit.core.LoadStrategyEnum;
<strong class="hl-keyword">import</strong> com.lordofthejars.nosqlunit.demo.model.Book;
<strong class="hl-keyword">import</strong> com.lordofthejars.nosqlunit.redis.ManagedRedis;
<strong class="hl-keyword">import</strong> com.lordofthejars.nosqlunit.redis.RedisRule;

<strong class="hl-keyword">public</strong> <strong class="hl-keyword">class</strong> WhenYouFindABook {

	<strong class="hl-keyword">static</strong> {
		System.setProperty(<strong class="hl-string"><em style="color:red">"REDIS_HOME"</em></strong>, <strong class="hl-string"><em style="color:red">"/opt/redis-2.4.16"</em></strong>);
	}

	<em><span class="hl-annotation" style="color: gray">@ClassRule</span></em>
	<strong class="hl-keyword">public</strong> <strong class="hl-keyword">static</strong> ManagedRedis managedRedis = newManagedRedisRule().build();

	<em><span class="hl-annotation" style="color: gray">@Rule</span></em>
	<strong class="hl-keyword">public</strong> RedisRule redisRule = newRedisRule().defaultManagedRedis();
	
	<em><span class="hl-annotation" style="color: gray">@Test</span></em>
	<em><span class="hl-annotation" style="color: gray">@UsingDataSet(locations="book.json", loadStrategy=LoadStrategyEnum.CLEAN_INSERT)</span></em>
	<strong class="hl-keyword">public</strong> <strong class="hl-keyword">void</strong> book_should_be_returned_if_title_is_in_database() {
		
		BookManager bookManager = <strong class="hl-keyword">new</strong> BookManager(<strong class="hl-keyword">new</strong> Jedis(<strong class="hl-string"><em style="color:red">"localhost"</em></strong>));
		Book findBook = bookManager.findBookByTitle(<strong class="hl-string"><em style="color:red">"The Hobbit"</em></strong>);
		
		assertThat(findBook, is(<strong class="hl-keyword">new</strong> Book(<strong class="hl-string"><em style="color:red">"The Hobbit"</em></strong>, <span class="hl-number">293</span>)));
		
	}

}</pre></div></div><br class="example-break"><p>And dataset used is:
				</p><div class="example"><a name="program.expected_redis_file"></a><p class="title"><b>Example&nbsp;1.11.&nbsp;book.json Redis file</b></p><div class="example-contents"><pre class="programlisting">{
"data":[	
      		{"hash": [
      					{
      						"key":"The Hobbit",
      						"values":[
      							{"field":"title", "value":"The Hobbit"},
      							{"field":"numberOfPages", "value":"293"}
      						]
      					}
      				]
      		}
]
}</pre></div></div><br class="example-break"></div></div></div></div></body></html>